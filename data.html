<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JSON Sandbox</title>
  </head>
  <body>
    <h1>Users in the Network</h1>
    <button id="callData" onchange="change_myselect(this.value)">Call Data</button>

<p id="demo"></p>

<script>
var btn = document.getElementById('callData');

 btn.addEventListener("click", function(){
   
 var request = new XMLHttpRequest();
 request.open("GET", "data.json");
  request.onload= function() {
    // if (this.readyState == 4 && this.status == 200) { onreadystatechange
     var myObj = JSON.parse(this.responseText);
      var user = myObj.user;
       var txt ="";
         var x;
         
       for(var x = 0;x < user.length;x++){
              txt += "<table border='1'>" + 
              '<thead>'+
              '<tr>'+
              '<th>ID</th>'+
              '<th>First name</th>'+
              '<th>Last Name</th>'+
              '<th>Email</th>'+    
              '<th>Gender</th>'+
              '<th>ip address</th>'+
              '</tr>'+
              '</thead>'+
              '<tbody >'
       
       
     
      for (x in user) {
        txt += "<tr><td>" + user[x].first_name + "</td>" +   
            "<td>" + user[x].first_name + "</td>" + 
            "<td>" + user[x].last_name + 
            "<td>" + user[x].email + "</td>" + 
            "<td>" + user[x].gender + "</td>" + 
            "<td>" + user[x].ip_address + "</td>" + "</td></tr>";
      }
      txt += "</table>"   
       }
      document.getElementById("demo").innerHTML = txt;
      btn.style.display = "none";
    }
   
   request.send();
 });

   
</script>
  </body>
</html>
